{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","newObject","post","id","put","delete","Filter","filterText","handleFilterChange","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Persons","persons","handleDelete","map","person","name","Person","number","onClick","Notificaton","message","messageType","className","text","App","useState","setPersons","setNewName","setNewNumber","setFilterText","setMessage","useEffect","personService","then","response","data","showNotification","duration","setTimeout","filteredPersons","filter","toLowerCase","includes","event","target","preventDefault","existingPerson","find","alert","window","confirm","p","concat","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a4c773f0.chunk.js","sourcesContent":["import axios from \"axios\";\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  return axios.get(baseUrl);\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject);\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject);\n}\n\nconst remove = id => {\n  return axios.delete(`${baseUrl}/${id}`);\n}\n\nexport default { getAll, create, update, remove };\n","import React, { useState, useEffect } from 'react';\nimport personService from './services/persons';\n\nconst Filter = ({ filterText, handleFilterChange }) => {\n  return (\n    <div>\n      filter shown with <input value={filterText} onChange={handleFilterChange}></input>\n    </div>\n  );\n}\n\nconst PersonForm = ({ addPerson, newName, handleNameChange, newNumber, handleNumberChange}) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n}\n\nconst Persons = ({ persons, handleDelete }) => {\n  return (\n    persons.map((person) => <Person key={person.name} person={person} handleDelete={() => handleDelete(person)} />)\n  );\n}\n\nconst Person = ({ person, handleDelete }) => {\n  return (\n    <span>{person.name} {person.number} <button onClick={handleDelete}>delete</button><br /></span>\n  );\n}\n\nconst Notificaton = ({ message, messageType }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={message.type}>\n      {message.text}\n    </div>\n  );\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filterText, setFilterText] = useState('');\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data);\n      });\n  }, []);\n\n  const showNotification = (text, type, duration) => {\n    setMessage({ text, type })\n    setTimeout(() => {\n      setMessage(null);\n    }, duration);\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    const existingPerson = persons.find((person) => person.name === newName);\n\n    if (existingPerson) {\n      if (existingPerson.number === newNumber) {\n        alert(`${newName} is already added to phonebook`);\n      } else {\n        if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n          personService\n            .update(existingPerson.id, { name: newName, number: newNumber })\n            .then(response => {\n              setPersons(persons.map(p => p.id !== existingPerson.id ? p : response.data));\n              setNewName('');\n              setNewNumber('');\n              showNotification(`Updated ${response.data.name}`, 'successMessage', 3000);\n            });\n        }\n      }\n    } else {\n      personService\n        .create({ name: newName, number: newNumber })\n        .then(response => {\n          setPersons(persons.concat(response.data));\n          setNewName('');\n          setNewNumber('');\n          showNotification(`Added ${response.data.name}`, 'successMessage', 3000);\n        });\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  }\n\n  const handleFilterChange = (event) => {\n    setFilterText(event.target.value);\n  }\n\n  const handleDelete = person => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService\n        .remove(person.id)\n        .then(() => {\n          setPersons(persons.filter(p => p.id !== person.id));\n        })\n        .catch(error => {\n          showNotification(`Information of ${person.name} has already been removed from the server`, 'errorMessage', 3000);\n        });\n    }\n  }\n\n  const filteredPersons = persons.filter((person) => person.name.toLowerCase().includes(filterText.toLowerCase()));\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notificaton message={message} />\n      <Filter filterText={filterText} handleFilterChange={handleFilterChange} />\n      <h3>add a new</h3>\n      <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h3>Numbers</h3>\n      <Persons persons={filteredPersons} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}